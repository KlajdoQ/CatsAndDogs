{"ast":null,"code":"import consumer from \"./consumer\";\nconst createChatChannel = (conversation_id, receivedMessageCallback) => {\n  const channel = consumer.subscriptions.create({\n    channel: \"ChatChannel\",\n    conversation_id: conversation_id\n  }, {\n    connected() {\n      console.log(\"Connected to chat channel\");\n    },\n    disconnected() {\n      console.log(\"Disconnected from chat channel\");\n    },\n    received(data) {\n      receivedMessageCallback(data);\n    }\n  });\n  const sendMessage = (content, user_id, conversation_id) => {\n    channel.perform('send_message', {\n      content,\n      user_id,\n      conversation_id\n    });\n  };\n  return {\n    channel,\n    sendMessage\n  };\n};\nexport default createChatChannel;","map":{"version":3,"names":["consumer","createChatChannel","conversation_id","receivedMessageCallback","channel","subscriptions","create","connected","console","log","disconnected","received","data","sendMessage","content","user_id","perform"],"sources":["/Users/kqasolli/Desktop/capstone/CatsAndDogs/react-frontend/src/components/javascript/channels/chat_channel.js"],"sourcesContent":["import consumer from \"./consumer\"\n\nconst createChatChannel = (conversation_id, receivedMessageCallback) => {\n  const channel = consumer.subscriptions.create({\n    channel: \"ChatChannel\",\n    conversation_id: conversation_id\n  }, {\n    connected() {\n      console.log(\"Connected to chat channel\");\n    },\n\n    disconnected() {\n      console.log(\"Disconnected from chat channel\");\n    },\n\n    received(data) {\n      receivedMessageCallback(data);\n    }\n  });\n\n  const sendMessage = (content, user_id, conversation_id) => {\n    channel.perform('send_message', { content, user_id, conversation_id });\n  };\n\n  return { channel, sendMessage };\n};\n\n\nexport default createChatChannel;\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY;AAEjC,MAAMC,iBAAiB,GAAG,CAACC,eAAe,EAAEC,uBAAuB,KAAK;EACtE,MAAMC,OAAO,GAAGJ,QAAQ,CAACK,aAAa,CAACC,MAAM,CAAC;IAC5CF,OAAO,EAAE,aAAa;IACtBF,eAAe,EAAEA;EACnB,CAAC,EAAE;IACDK,SAAS,GAAG;MACVC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IAC1C,CAAC;IAEDC,YAAY,GAAG;MACbF,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;IAC/C,CAAC;IAEDE,QAAQ,CAACC,IAAI,EAAE;MACbT,uBAAuB,CAACS,IAAI,CAAC;IAC/B;EACF,CAAC,CAAC;EAEF,MAAMC,WAAW,GAAG,CAACC,OAAO,EAAEC,OAAO,EAAEb,eAAe,KAAK;IACzDE,OAAO,CAACY,OAAO,CAAC,cAAc,EAAE;MAAEF,OAAO;MAAEC,OAAO;MAAEb;IAAgB,CAAC,CAAC;EACxE,CAAC;EAED,OAAO;IAAEE,OAAO;IAAES;EAAY,CAAC;AACjC,CAAC;AAGD,eAAeZ,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}