{"ast":null,"code":"var _jsxFileName = \"/Users/kqasolli/CatsAndDogs/react-frontend/src/Auth.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./Auth.css\";\nimport Login from \"./Login\";\nimport SignUp from \"./SignUp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Auth(props) {\n  _s();\n  let [authMode, setAuthMode] = useState(\"signin\");\n  let [signUpForm, setSignUpForm] = useState({\n    full_name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const handleSignInSubmit = event => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: signInForm.email,\n        password: signInForm.password\n      })\n    }).then(response => {\n      if (response.ok) {\n        // User is authenticated - redirect to the content page\n        window.location.replace(\"/\");\n      } else if (response.status === 401) {\n        // Authentication failed - display error message\n        throw new Error(\"Invalid email or password\");\n      } else {\n        // Display other error messages returned by the server\n        throw new Error(response.statusText);\n      }\n    }).catch(error => {\n      console.error(error);\n      // Display error message to the user\n    });\n  };\n\n  const handleSignUpSubmit = event => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user: signUpForm\n      })\n    }).then(response => {\n      if (response.ok) {\n        // User is registered - redirect to the sign in page\n        setAuthMode(\"signin\");\n      } else if (response.status === 422) {\n        // Registration failed - display validation errors\n        return response.json().then(data => {\n          throw new Error(data.errors.join(\", \"));\n        });\n      } else {\n        // Display other error messages returned by the server\n        throw new Error(response.statusText);\n      }\n    }).catch(error => {\n      console.error(error);\n      // Display error message to the user\n    });\n  };\n\n  const handleSignInFormChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setSignInForm(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSignUpFormChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setSignUpForm(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const changeAuthMode = () => {\n    setAuthMode(authMode === \"signin\" ? \"signup\" : \"signin\");\n  };\n  if (authMode === \"signin\") {\n    return /*#__PURE__*/_jsxDEV(SignUp, {\n      handleSignUpSubmit: handleSignUpSubmit,\n      changeAuthMode: changeAuthMode,\n      signUpForm: signUpForm,\n      handleSignUpFormChange: handleSignUpFormChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  } else return /*#__PURE__*/_jsxDEV(Login, {\n    handleSignInSubmit: handleSignInSubmit,\n    changeAuthMode: changeAuthMode,\n    signInForm: signInForm,\n    handleSignInFormChange: handleSignInFormChange\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(Auth, \"1xsLf2tORaY6Krxx9mVYldnJGOQ=\");\n_c = Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useState","Login","SignUp","Auth","props","authMode","setAuthMode","signUpForm","setSignUpForm","full_name","email","password","handleSignInSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","signInForm","then","response","ok","window","location","replace","status","Error","statusText","catch","error","console","handleSignUpSubmit","user","json","data","errors","join","handleSignInFormChange","name","value","target","setSignInForm","prevState","handleSignUpFormChange","changeAuthMode"],"sources":["/Users/kqasolli/CatsAndDogs/react-frontend/src/Auth.js"],"sourcesContent":["import React, { useState } from \"react\";\n\n\n\nimport \"./Auth.css\";\nimport Login from \"./Login\"\nimport SignUp from \"./SignUp\"\n\nexport default function Auth(props) {\n\n  let [authMode, setAuthMode] = useState(\"signin\");\n\n  let [signUpForm, setSignUpForm] = useState({\n    full_name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleSignInSubmit = (event) => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: signInForm.email,\n        password: signInForm.password,\n      }),\n    })\n      .then((response) => {\n        if (response.ok) {\n          // User is authenticated - redirect to the content page\n          window.location.replace(\"/\");\n        } else if (response.status === 401) {\n          // Authentication failed - display error message\n          throw new Error(\"Invalid email or password\");\n        } else {\n          // Display other error messages returned by the server\n          throw new Error(response.statusText);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        // Display error message to the user\n      });\n  };\n  const handleSignUpSubmit = (event) => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ user: signUpForm }),\n    })\n      .then((response) => {\n        if (response.ok) {\n          // User is registered - redirect to the sign in page\n          setAuthMode(\"signin\");\n        } else if (response.status === 422) {\n          // Registration failed - display validation errors\n          return response.json().then((data) => {\n            throw new Error(data.errors.join(\", \"));\n          });\n        } else {\n          // Display other error messages returned by the server\n          throw new Error(response.statusText);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        // Display error message to the user\n      });\n  };\n  \n\n\n  const handleSignInFormChange = (event) => {\n    const { name, value } = event.target;\n    setSignInForm((prevState) => ({ ...prevState, [name]: value }));\n  };\n\n  const handleSignUpFormChange = (event) => {\n    const { name, value } = event.target;\n    setSignUpForm((prevState) => ({ ...prevState, [name]: value }));\n  };\n\n  const changeAuthMode = () => {\n    setAuthMode(authMode === \"signin\" ? \"signup\" : \"signin\");\n  };\n\n  if (authMode === \"signin\") {\n    return (\n      <SignUp \n    handleSignUpSubmit={handleSignUpSubmit}\n    changeAuthMode={changeAuthMode}\n    signUpForm={signUpForm}\n    handleSignUpFormChange={handleSignUpFormChange}\n    />\n    );\n  }\nelse \n  return (\n    <Login \n    handleSignInSubmit={handleSignInSubmit}\n    changeAuthMode={changeAuthMode}\n    signInForm={signInForm}\n    handleSignInFormChange={handleSignInFormChange}\n    />\n \n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}