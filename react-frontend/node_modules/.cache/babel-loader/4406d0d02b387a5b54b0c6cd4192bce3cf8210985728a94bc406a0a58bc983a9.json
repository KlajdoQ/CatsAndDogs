{"ast":null,"code":"var _jsxFileName = \"/Users/kqasolli/Desktop/capstone/CatsAndDogs/react-frontend/src/App.js\",\n  _s2 = $RefreshSig$();\n// import necessary components and libraries\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Header from './components/header/Header';\nimport Content from './components/content/Content';\nimport Footer from './components/Footer';\nimport Login from './Login';\nimport SignUp from './SignUp';\nimport Profile from './Profile';\nimport { Routes, Route } from \"react-router-dom\";\nimport { UserContext } from './components/contexts/UserContext';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [animals, setAnimals] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const firestore = firebase.firestore();\n  const auth = firebase.auth();\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  useEffect(() => {\n    // Set up Firebase Authentication listener\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setUser(user);\n    });\n    return () => {\n      // Stop listening for authentication changes when the component unmounts\n      unsubscribe();\n    };\n  }, []);\n  function addNewAnimal(newAnimal) {\n    setAnimals([...animals, newAnimal]);\n  }\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      setUser\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          element: /*#__PURE__*/_jsxDEV(SignUp, {\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/profile\",\n          element: /*#__PURE__*/_jsxDEV(Profile, {\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Header, {\n              search: search,\n              setSearch: setSearch,\n              setUser: setUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Content, {\n              search: search,\n              animals: animals,\n              setAnimals: setAnimals,\n              addNewAnimal: addNewAnimal,\n              setUser: setUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-to-view\",\n            children: [/*#__PURE__*/_jsxDEV(Header, {\n              addNewAnimal: addNewAnimal,\n              search: search,\n              setSearch: setSearch,\n              setUser: setUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-msg\",\n              children: [\"You must be \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 56\n              }, this), \"logged in \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 75\n              }, this), \"to view this \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 97\n              }, this), \"content!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), _s(function Chat(_ref) {\n        _s();\n        let {\n          user\n        } = _ref;\n        useEffect(() => {\n          // Listen for new messages\n          const unsubscribe = firestore.collection(\"messages\").orderBy(\"timestamp\").onSnapshot(snapshot => {\n            setMessages(snapshot.docs.map(doc => ({\n              id: doc.id,\n              ...doc.data()\n            })));\n          });\n          return () => {\n            // Stop listening for new messages when the component unmounts\n            unsubscribe();\n          };\n        }, []);\n        function handleNewMessageChange(event) {\n          setNewMessage(event.target.value);\n        }\n        async function handleNewMessageSubmit(event) {\n          event.preventDefault();\n          await firestore.collection(\"messages\").add({\n            user_id: user.uid,\n            text: newMessage,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\n          });\n          setNewMessage(\"\");\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messages\",\n            children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user\",\n                children: message.user_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text\",\n                children: message.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 13\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleNewMessageSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newMessage,\n              onChange: handleNewMessageChange,\n              placeholder: \"Type a message...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 5\n        }, this);\n      }, \"OD7bBpZva5O2jO+Puf00hKivP7c=\")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"PXUHSYM4OEXjsJWW2HzViPhjrMQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Header","Content","Footer","Login","SignUp","Profile","Routes","Route","UserContext","firebase","App","animals","setAnimals","search","setSearch","user","setUser","firestore","auth","messages","setMessages","newMessage","setNewMessage","unsubscribe","onAuthStateChanged","addNewAnimal","newAnimal","Chat","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","handleNewMessageChange","event","target","value","handleNewMessageSubmit","preventDefault","add","user_id","uid","text","timestamp","FieldValue","serverTimestamp","message"],"sources":["/Users/kqasolli/Desktop/capstone/CatsAndDogs/react-frontend/src/App.js"],"sourcesContent":["// import necessary components and libraries\nimport React, {useState, useEffect} from 'react';\nimport './App.css'\nimport Header from './components/header/Header'\nimport Content from './components/content/Content'\nimport Footer from './components/Footer'\nimport Login from './Login'\nimport SignUp from './SignUp'\nimport Profile from './Profile'\nimport {Routes, Route} from \"react-router-dom\"\nimport { UserContext } from './components/contexts/UserContext'\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\n\nfunction App() {\n  const [animals, setAnimals] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const firestore = firebase.firestore();\n  const auth = firebase.auth();\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n\n  useEffect(() => {\n    // Set up Firebase Authentication listener\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setUser(user);\n    });\n\n    return () => {\n      // Stop listening for authentication changes when the component unmounts\n      unsubscribe();\n    };\n  }, []);\n  \n  \n  function addNewAnimal(newAnimal) {\n    setAnimals([...animals, newAnimal]);\n  }\n\n  return (\n    <UserContext.Provider value={{ user, setUser }} >\n      <div className=\"app\">\n        \n        <Routes>\n          <Route\n            path=\"/login\"\n            element={<Login setUser={setUser} />}\n          />\n          <Route\n            path=\"/signup\"\n            element={<SignUp setUser={setUser} />}\n          />\n            <Route\n            path=\"/profile\"\n            element={<Profile setUser={setUser} />}/>\n          <Route\n            path=\"/\"\n            element={user ? (\n              <>\n              <Header \n                search={search} \n                setSearch={setSearch} \n                setUser={setUser}/>\n              <Content\n                search={search}\n                animals={animals}\n                setAnimals={setAnimals}\n                addNewAnimal={addNewAnimal}\n                setUser={setUser}\n              />\n              <Footer />\n              </>\n            ) : (\n              <div className=\"login-to-view\" >\n                <Header \n                    addNewAnimal={addNewAnimal} \n                    search={search} \n                    setSearch={setSearch} \n                    setUser={setUser}/>\n                <div className=\"error-msg\">You must be <br></br>logged in <br></br>to view this <br></br>content!</div>\n              </div>\n             \n            )}\n          />\n        </Routes>\n        {function Chat({ user }) {\n\n\n  useEffect(() => {\n    // Listen for new messages\n    const unsubscribe = firestore\n      .collection(\"messages\")\n      .orderBy(\"timestamp\")\n      .onSnapshot((snapshot) => {\n        setMessages(\n          snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }))\n        );\n      });\n\n    return () => {\n      // Stop listening for new messages when the component unmounts\n      unsubscribe();\n    };\n  }, [])\n\n  function handleNewMessageChange(event) {\n    setNewMessage(event.target.value);\n  }\n\n  async function handleNewMessageSubmit(event) {\n    event.preventDefault();\n\n    await firestore.collection(\"messages\").add({\n      user_id: user.uid,\n      text: newMessage,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n\n    setNewMessage(\"\");\n  }\n\n  return (\n    <div className=\"chat\">\n      <div className=\"messages\">\n        {messages.map((message) => (\n          <div key={message.id} className=\"message\">\n            <span className=\"user\">{message.user_id}</span>\n            <span className=\"text\">{message.text}</span>\n          </div>\n        ))}\n      </div>\n      <form onSubmit={handleNewMessageSubmit}>\n        <input\n          type=\"text\"\n          value={newMessage}\n          onChange={handleNewMessageChange}\n          placeholder=\"Type a message...\"\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n}}\n      </div>\n    </UserContext.Provider>\n  );\n}\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}