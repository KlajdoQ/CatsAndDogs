{"ast":null,"code":"var _jsxFileName = \"/Users/kqasolli/CatsAndDogs/react-frontend/src/Auth.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useHistory } from \"react\";\nimport \"./Auth.css\";\nimport Login from \"./Login\";\nimport SignUp from \"./SignUp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Auth(props) {\n  _s();\n  const [login, setLogin] = useState(true);\n  let [authMode, setAuthMode] = useState(\"signin\");\n  let [signInForm, setSignInForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  let [signUpForm, setSignUpForm] = useState({\n    full_name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const changeAuthMode = () => {\n    setLogin(!login);\n  };\n  const handleSignInSubmit = event => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(signInForm)\n    }).then(response => {\n      if (response.ok) {\n        // User is authenticated - redirect to the content page\n        props.history.push(\"/\");\n      } else {\n        // Authentication failed - display error message\n        throw new Error(\"Email not found\");\n      }\n    }).catch(error => {\n      console.error(error);\n      // Display error message to the user\n    });\n  };\n\n  const handleSignUpSubmit = event => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(signUpForm)\n    }).then(response => {\n      if (response.ok) {\n        // User is registered - redirect to the content page\n        props.history.push(\"/\");\n      } else {\n        // Registration failed - display error message\n        throw new Error(\"Registration failed\");\n      }\n    }).catch(error => {\n      console.error(error);\n      // Display error message to the user\n    });\n  };\n\n  const handleSignInFormChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setSignInForm(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSignUpFormChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setSignUpForm(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n\n  //   const changeAuthMode = () => {\n  //     setAuthMode(authMode === \"signin\" ? \"signup\" : \"signin\");\n  //   };\n\n  return /*#__PURE__*/_jsxDEV(Login, {\n    handleSignInSubmit: handleSignInSubmit,\n    changeAuthMode: changeAuthMode,\n    signInForm: signInForm,\n    handleSignInFormChange: handleSignInFormChange\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(SignUp, {\n    handleSignUpSubmit: handleSignUpSubmit,\n    changeAuthMode: changeAuthMode,\n    signUpForm: signUpForm,\n    handleSignUpFormChange: handleSignUpFormChange\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(Auth, \"ivCxhIv+Nk7bqXtU9J7HMaYG/t0=\");\n_c = Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useState","useHistory","Login","SignUp","Auth","props","login","setLogin","authMode","setAuthMode","signInForm","setSignInForm","email","password","signUpForm","setSignUpForm","full_name","changeAuthMode","handleSignInSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","ok","history","push","Error","catch","error","console","handleSignUpSubmit","handleSignInFormChange","name","value","target","prevState","handleSignUpFormChange"],"sources":["/Users/kqasolli/CatsAndDogs/react-frontend/src/Auth.js"],"sourcesContent":["import React, { useState , useHistory} from \"react\";\nimport \"./Auth.css\";\nimport Login from \"./Login\"\nimport SignUp from \"./SignUp\"\n\nexport default function Auth(props) {\n    const [login, setLogin] = useState(true);\n\n  let [authMode, setAuthMode] = useState(\"signin\");\n  let [signInForm, setSignInForm] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  let [signUpForm, setSignUpForm] = useState({\n    full_name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  const changeAuthMode = () => {\n    setLogin(!login);\n  };\n\n  const handleSignInSubmit = (event) => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(signInForm)\n    })\n      .then(response => {\n        if (response.ok) {\n          // User is authenticated - redirect to the content page\n          props.history.push(\"/\");\n        } else {\n          // Authentication failed - display error message\n          throw new Error(\"Email not found\");\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        // Display error message to the user\n      });\n  };\n  \n  const handleSignUpSubmit = (event) => {\n    event.preventDefault();\n    fetch(\"http://localhost:3000/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(signUpForm)\n    })\n      .then(response => {\n        if (response.ok) {\n          // User is registered - redirect to the content page\n          props.history.push(\"/\");\n        } else {\n          // Registration failed - display error message\n          throw new Error(\"Registration failed\");\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        // Display error message to the user\n      });\n  };\n  \n\n\n  const handleSignInFormChange = (event) => {\n    const { name, value } = event.target;\n    setSignInForm((prevState) => ({ ...prevState, [name]: value }));\n  };\n\n  const handleSignUpFormChange = (event) => {\n    const { name, value } = event.target;\n    setSignUpForm((prevState) => ({ ...prevState, [name]: value }));\n  };\n\n//   const changeAuthMode = () => {\n//     setAuthMode(authMode === \"signin\" ? \"signup\" : \"signin\");\n//   };\n\n  \n    return (\n      <Login \n      handleSignInSubmit={handleSignInSubmit}\n      changeAuthMode={changeAuthMode}\n      signInForm={signInForm}\n      handleSignInFormChange={handleSignInFormChange}\n      />\n    );\n  \n\n  return (\n    <SignUp \n    handleSignUpSubmit={handleSignUpSubmit}\n    changeAuthMode={changeAuthMode}\n    signUpForm={signUpForm}\n    handleSignUpFormChange={handleSignUpFormChange}\n    />\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAGC,UAAU,QAAO,OAAO;AACnD,OAAO,YAAY;AACnB,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAAA;AAE7B,eAAe,SAASC,IAAI,CAACC,KAAK,EAAE;EAAA;EAChC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE1C,IAAI,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,QAAQ,CAAC;EAChD,IAAI,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC;IACzCY,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,IAAI,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC;IACzCgB,SAAS,EAAE,EAAE;IACbJ,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMI,cAAc,GAAG,MAAM;IAC3BV,QAAQ,CAAC,CAACD,KAAK,CAAC;EAClB,CAAC;EAED,MAAMY,kBAAkB,GAAIC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,EAAE;IACtBC,KAAK,CAAC,8BAA8B,EAAE;MACpCC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAChB,UAAU;IACjC,CAAC,CAAC,CACCiB,IAAI,CAACC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf;QACAxB,KAAK,CAACyB,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACzB,CAAC,MAAM;QACL;QACA,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;MACpC;IACF,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB;IACF,CAAC,CAAC;EACN,CAAC;;EAED,MAAME,kBAAkB,GAAIjB,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,EAAE;IACtBC,KAAK,CAAC,8BAA8B,EAAE;MACpCC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACZ,UAAU;IACjC,CAAC,CAAC,CACCa,IAAI,CAACC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf;QACAxB,KAAK,CAACyB,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACzB,CAAC,MAAM;QACL;QACA,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MACxC;IACF,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB;IACF,CAAC,CAAC;EACN,CAAC;;EAID,MAAMG,sBAAsB,GAAIlB,KAAK,IAAK;IACxC,MAAM;MAAEmB,IAAI;MAAEC;IAAM,CAAC,GAAGpB,KAAK,CAACqB,MAAM;IACpC7B,aAAa,CAAE8B,SAAS,KAAM;MAAE,GAAGA,SAAS;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EACjE,CAAC;EAED,MAAMG,sBAAsB,GAAIvB,KAAK,IAAK;IACxC,MAAM;MAAEmB,IAAI;MAAEC;IAAM,CAAC,GAAGpB,KAAK,CAACqB,MAAM;IACpCzB,aAAa,CAAE0B,SAAS,KAAM;MAAE,GAAGA,SAAS;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EACjE,CAAC;;EAEH;EACA;EACA;;EAGI,oBACE,QAAC,KAAK;IACN,kBAAkB,EAAErB,kBAAmB;IACvC,cAAc,EAAED,cAAe;IAC/B,UAAU,EAAEP,UAAW;IACvB,sBAAsB,EAAE2B;EAAuB;IAAA;IAAA;IAAA;EAAA,QAC7C;EAIN,oBACE,QAAC,MAAM;IACP,kBAAkB,EAAED,kBAAmB;IACvC,cAAc,EAAEnB,cAAe;IAC/B,UAAU,EAAEH,UAAW;IACvB,sBAAsB,EAAE4B;EAAuB;IAAA;IAAA;IAAA;EAAA,QAC7C;AAEN;AAAC,GArGuBtC,IAAI;AAAA,KAAJA,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}