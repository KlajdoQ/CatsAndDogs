{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst request_1 = __importDefault(require(\"request\"));\nconst Configs_1 = require(\"../config/Configs\");\nclass Utils {\n  /* istanbul ignore next line */\n  constructor() {}\n  static makeRequest(options, cb) {\n    if (typeof cb !== 'function') {\n      return new Promise((resolve, reject) => {\n        request_1.default(options, (err, resp, body) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(JSON.parse(body));\n          }\n        });\n      });\n      // tslint:disable-next-line\n    } else {\n      request_1.default(options, (err, resp, body) => {\n        if (err) return cb(err);\n        if (body) {\n          const result = JSON.parse(body);\n          if (result.error) {\n            return cb(result.error);\n            // tslint:disable-next-line\n          } else {\n            return cb(null, result);\n          }\n        }\n        cb(null, resp);\n      });\n    }\n  }\n  static getRequestPayload(url) {\n    return {\n      url,\n      method: 'GET',\n      headers: {\n        'apiauth-apiuser': Configs_1.Configs.getAPIUser(),\n        'apiauth-apikey': Configs_1.Configs.getAPIKey()\n      }\n    };\n  }\n  static getLatestNewsUrl(pageSize, pageNumber) {\n    return `${Configs_1.Configs.getLatestNewsAPIUrl()}&pageSize=${pageSize}&page=${pageNumber}`;\n  }\n  static getPictureOfDayUrl(startDate, numberOfDays) {\n    return `${Configs_1.Configs.getPictureOfDayAPIUrl()}&publication_datetime_from=${startDate}T00:00:00Z&page=${numberOfDays}&limit=1`;\n  }\n}\nexports.Utils = Utils;","map":{"version":3,"mappings":";;;;;;;;;;AAAA;AACA;AAGA,MAAaA,KAAK;EAEd;EACFC,eAAuB;EAEhB,OAAOC,WAAW,CAACC,OAAiC,EAAEC,EAAa;IACxE,IAAI,OAAOA,EAAE,KAAK,UAAU,EAAE;MAC5B,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;QACrCC,iBAAO,CAACL,OAAO,EAAE,CAACM,GAAG,EAAEC,IAAI,EAAEC,IAAI,KAAI;UACnC,IAAIF,GAAG,EAAE;YACPF,MAAM,CAACE,GAAG,CAAC;WACZ,MAAM;YACLH,OAAO,CAACM,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC,CAAC;;QAE7B,CAAC,CAAC;MACJ,CAAC,CAAC;MACF;KACD,MAAM;MACLH,iBAAO,CAACL,OAAO,EAAE,CAACM,GAAG,EAAEC,IAAI,EAAEC,IAAI,KAAI;QACnC,IAAIF,GAAG,EAAE,OAAOL,EAAE,CAACK,GAAG,CAAC;QACvB,IAAIE,IAAI,EAAE;UACR,MAAMG,MAAM,GAAGF,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC;UAC/B,IAAIG,MAAM,CAACC,KAAK,EAAE;YAChB,OAAOX,EAAE,CAACU,MAAM,CAACC,KAAK,CAAC;YACvB;WACD,MAAM;YACL,OAAOX,EAAE,CAAC,IAAI,EAAEU,MAAM,CAAC;;;QAG3BV,EAAE,CAAC,IAAI,EAAEM,IAAI,CAAC;MAChB,CAAC,CAAC;;EAEN;EAEO,OAAOM,iBAAiB,CAACC,GAAW;IACzC,OAAO;MACLA,GAAG;MACHC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,iBAAiB,EAAEC,iBAAO,CAACC,UAAU,EAAE;QACvC,gBAAgB,EAAED,iBAAO,CAACE,SAAS;;KAEtC;EACH;EAEO,OAAOC,gBAAgB,CAACC,QAAgB,EAAEC,UAAkB;IACjE,OAAO,GAAGL,iBAAO,CAACM,mBAAmB,EAAE,aAAaF,QAAQ,SAASC,UAAU,EAAE;EACnF;EAEO,OAAOE,kBAAkB,CAACC,SAAiB,EAAEC,YAAoB;IACtE,OAAO,GAAGT,iBAAO,CAACU,qBAAqB,EAAE,8BAA8BF,SAAS,mBAAmBC,YAAY,UAAU;EAC3H;;AAnDFE","names":["Utils","constructor","makeRequest","options","cb","Promise","resolve","reject","request_1","err","resp","body","JSON","parse","result","error","getRequestPayload","url","method","headers","Configs_1","getAPIUser","getAPIKey","getLatestNewsUrl","pageSize","pageNumber","getLatestNewsAPIUrl","getPictureOfDayUrl","startDate","numberOfDays","getPictureOfDayAPIUrl","exports"],"sources":["../../src/util/Utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}