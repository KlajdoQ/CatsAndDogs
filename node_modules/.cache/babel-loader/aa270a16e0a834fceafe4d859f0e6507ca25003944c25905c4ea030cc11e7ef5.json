{"ast":null,"code":"var _jsxFileName = \"/Users/kqasolli/Desktop/travel-ed/src/components/content/FetchCommentsForm.js\";\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FetchCommentsForm(_ref) {\n  var _this = this;\n  let {\n    updateAnimals,\n    setNanimal,\n    setAnimals,\n    newComment,\n    setNewComment,\n    showComment,\n    handleCommentSubmit\n  } = _ref;\n  return function (updateAnimals) {\n    function updateAnimals(e) {\n      if (newComment) {\n        fetch(`http://localhost:3000/animals/${animal.id}`, {\n          method: \"PATCH\",\n          headers: {\n            \"content-type\": \"application/json\",\n            accept: \"application/json\"\n          },\n          body: JSON.stringify({\n            comments: [...animal.comments, {\n              comment: newComment,\n              replies: [],\n              likes: 0\n            }]\n          })\n        }).then(response => response.json()).then(updatedAnimals => {\n          setAnimals(prevAnimals => prevAnimals.map(currentAnimals => {\n            if (currentAnimals.id === updatedAnimals.id) {\n              return updatedAnimals;\n            } else {\n              return currentAnimals;\n            }\n          }));\n        });\n      }\n      handleCommentSubmit();\n    }\n    function handleCommentChange(event) {\n      setNewComment(event.target.value);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [showComment && /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"new-reply-li\",\n        children: newComment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          value: newComment,\n          onChange: handleCommentChange,\n          placeholder: \"Write a comment...\",\n          className: \"type-comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"post-comment-btn\",\n          type: \"submit\",\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true);\n  }(updateAnimals);\n}\n_c = FetchCommentsForm;\nvar _c;\n$RefreshReg$(_c, \"FetchCommentsForm\");","map":{"version":3,"names":["React","useState","FetchCommentsForm","updateAnimals","setNanimal","setAnimals","newComment","setNewComment","showComment","handleCommentSubmit","e","fetch","animal","id","method","headers","accept","body","JSON","stringify","comments","comment","replies","likes","then","response","json","updatedAnimals","prevAnimals","map","currentAnimals","handleCommentChange","event","target","value"],"sources":["/Users/kqasolli/Desktop/travel-ed/src/components/content/FetchCommentsForm.js"],"sourcesContent":["import React,{useState} from 'react'\n\nexport default function FetchCommentsForm({updateAnimals,setNanimal, setAnimals,newComment,setNewComment,showComment,handleCommentSubmit}) {\n  \n \n\n  function updateAnimals(e) {\n  \n    if (newComment) {\n      fetch(`http://localhost:3000/animals/${animal.id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\",\n          accept: \"application/json\",\n        },\n        body: JSON.stringify({\n          comments: [\n            ...animal.comments,\n            { comment: newComment, replies: [], likes: 0 },\n          ],\n        }),\n      })\n        .then((response) => response.json())\n        .then((updatedAnimals) => {\n          setAnimals((prevAnimals) =>\n            prevAnimals.map((currentAnimals) => {\n              if (currentAnimals.id === updatedAnimals.id) {\n                return updatedAnimals;\n              } else {\n                return currentAnimals;\n              }\n            })\n          )\n        })\n    }\n    handleCommentSubmit();\n  }\n  \n  function handleCommentChange(event) {\n    setNewComment(event.target.value);\n  }\n  \n  \n\n \n  return (\n    <>\n    {showComment && <li className=\"new-reply-li\">{newComment}</li>}\n      <div className=\"comment-form\">\n        <textarea\n          type=\"text\"\n          value={newComment}\n          onChange={handleCommentChange}\n          placeholder=\"Write a comment...\"\n          className=\"type-comment\"\n          />\n        <button className=\"post-comment-btn\" type=\"submit\">\n          Post\n        </button>\n      </div>\n    </>\n  )  \n}  \n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAEC,QAAQ,QAAO,OAAO;AAAA;AAAA;AAEpC,eAAe,SAASC,iBAAiB;EAAA;EAAA,IAAC;IAACC,aAAa;IAACC,UAAU;IAAEC,UAAU;IAACC,UAAU;IAACC,aAAa;IAACC,WAAW;IAACC;EAAmB,CAAC;EAAA,gCAAE;IAIzI,SAASN,aAAa,CAACO,CAAC,EAAE;MAExB,IAAIJ,UAAU,EAAE;QACdK,KAAK,CAAE,iCAAgCC,MAAM,CAACC,EAAG,EAAC,EAAE;UAClDC,MAAM,EAAE,OAAO;UACfC,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,MAAM,EAAE;UACV,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,QAAQ,EAAE,CACR,GAAGR,MAAM,CAACQ,QAAQ,EAClB;cAAEC,OAAO,EAAEf,UAAU;cAAEgB,OAAO,EAAE,EAAE;cAAEC,KAAK,EAAE;YAAE,CAAC;UAElD,CAAC;QACH,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,cAAc,IAAK;UACxBtB,UAAU,CAAEuB,WAAW,IACrBA,WAAW,CAACC,GAAG,CAAEC,cAAc,IAAK;YAClC,IAAIA,cAAc,CAACjB,EAAE,KAAKc,cAAc,CAACd,EAAE,EAAE;cAC3C,OAAOc,cAAc;YACvB,CAAC,MAAM;cACL,OAAOG,cAAc;YACvB;UACF,CAAC,CAAC,CACH;QACH,CAAC,CAAC;MACN;MACArB,mBAAmB,EAAE;IACvB;IAEA,SAASsB,mBAAmB,CAACC,KAAK,EAAE;MAClCzB,aAAa,CAACyB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;IACnC;IAKA,oBACE;MAAA,WACC1B,WAAW,iBAAI;QAAI,SAAS,EAAC,cAAc;QAAA,UAAEF;MAAU;QAAA;QAAA;QAAA;MAAA,SAAM,eAC5D;QAAK,SAAS,EAAC,cAAc;QAAA,wBAC3B;UACE,IAAI,EAAC,MAAM;UACX,KAAK,EAAEA,UAAW;UAClB,QAAQ,EAAEyB,mBAAoB;UAC9B,WAAW,EAAC,oBAAoB;UAChC,SAAS,EAAC;QAAc;UAAA;UAAA;UAAA;QAAA,SACtB,eACJ;UAAQ,SAAS,EAAC,kBAAkB;UAAC,IAAI,EAAC,QAAQ;UAAA,UAAC;QAEnD;UAAA;UAAA;UAAA;QAAA,SAAS;MAAA;QAAA;QAAA;QAAA;MAAA,SACL;IAAA,gBACL;EAEP,CAAC;AAAA;AAAA,KA5DuB7B,iBAAiB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}